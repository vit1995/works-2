import{i as f}from"./app.min.js";class m{constructor(e){let t={init:!0,logging:!0};if(this.config=Object.assign(t,e),this.config.init){const s=document.querySelectorAll("[data-fls-beforeafter]");s.length>0?(this.setLogging(`\u041F\u0440\u043E\u0441\u043D\u0443\u043B\u0441\u044F, \u0432\u0438\u0436\u0443 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B: ${s.length}`),this.beforeAfterInit(s)):this.setLogging("\u041F\u0440\u043E\u0441\u043D\u0443\u043B\u0441\u044F, \u043D\u0435 \u0432\u0438\u0436\u0443 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432")}}beforeAfterInit(e){e.forEach(t=>{t&&(this.beforeAfterClasses(t),this.beforeAfterItemInit(t))})}beforeAfterClasses(e){e.querySelector("[data-fls-beforeafter-arrow]"),e.addEventListener("mouseover",function(t){const s=t.target;s.hasAttribute("data-fls-beforeafter-arrow")||(s.closest("[data-fls-beforeafter-before]")?(e.classList.remove("-right"),e.classList.add("-left")):(e.classList.add("-right"),e.classList.remove("-left")))}),e.addEventListener("mouseleave",function(){e.classList.remove("-left"),e.classList.remove("-right")})}beforeAfterItemInit(e){const t=e.querySelector("[data-fls-beforeafter-arrow]"),s=e.querySelector("[data-fls-beforeafter-after]"),c=parseFloat(window.getComputedStyle(t).getPropertyValue("width"));let n={},l=!1;t&&(f.any()?t.addEventListener("touchstart",d):t.addEventListener("mousedown",d));function d(i){l=!0,n={width:e.offsetWidth,left:e.getBoundingClientRect().left-scrollX},f.any()?(document.addEventListener("touchmove",r),document.addEventListener("touchend",a)):(document.addEventListener("mousemove",r),document.addEventListener("mouseup",a)),document.addEventListener("dragstart",function(o){o.preventDefault()},{once:!0})}function r(i){if(!l)return;const o=i.type==="touchmove"?i.touches[0].clientX-n.left:i.clientX-n.left;if(o<=n.width&&o>0){const u=o/n.width*100;t.style.cssText=`left:calc(${u}% - ${c}px)`,s.style.cssText=`width: ${100-u}%`}else o>=n.width?(t.style.cssText=`left: calc(100% - ${c}px)`,s.style.cssText="width: 0%"):o<=0&&(t.style.cssText="left: 0%",s.style.cssText="width: 100%")}function a(i){l=!1,f.any()?(document.removeEventListener("touchmove",r),document.removeEventListener("touchend",a)):(document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",a))}}setLogging(e){this.config.logging}}new m({});
